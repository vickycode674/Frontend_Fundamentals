<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Age caluculator</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="calculator">
            <h1>Javascript  <br><span>age caluculator</span></h1>

            <div class="input-box">
                <input type="date" id="date">
                 <button onclick="caluclateAge()">Caluculate</button>
            </div>
            <p id="result">

            </p>

            <p class="birday">
            </p>
        </div>
    </div>

    <script>
        //creating dom for input
        let userInput=document.getElementById("date");
        userInput.max=new Date().toISOString().split("T")[0]; //SPLITING TIME FROM WHOLE ARRAY
        let result=document.getElementById('result');

        const birday=document.querySelector('.birday');

       function caluclateAge(){
        let birthDate=new Date(userInput.value); //stroing the user input other variable
        const currentYear=new Date().getFullYear();

        
        //user input birth settings
        let d1=birthDate.getDate();
        let m1=birthDate.getMonth()+1;
        let y1=birthDate.getFullYear();
        
        let today=new Date();

        let d2=today.getDate();
        let m2=today.getMonth()+1;
        let y2=today.getFullYear();
        

        let d3,y3,m3;

        y3=y2-y1;

        if(m2>=m1){
            m3=m2-m1;
        }
        else{
            y3--;
            m3=12+m2-m1; 
        }

        if(d2>=d1)
        {
            d3=d2-d1;
        }
        else{
            m3--;
            d3=getDaysInMonth(y1,m1)+d2-d1;
        }

        if(m3<0)
        {
            m3=11;
            y3--;
        }
        result.innerHTML=`You are <span>${y3}</span> Years , <span>${m3}</span>,Months,<span>${d3}</span> , days older`
        // console.log(y3,m3,d3);
        // birday.textContent=`You are next birthday is at ${12-m3}Months ${31-d3} days to go..`
       }


       function getDaysInMonth(year,month){
         return new Date(year,month,0).getDate(); //directly calulate date
       }
    </script>
</body>
</html>